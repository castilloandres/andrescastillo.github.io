<!DOCTYPE HTML>

<html lang='en'>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64326807-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-64326807-3');
    </script>
    <title>How to count characters in a JavaScript string</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="How to count characters in a JavaScript string">
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="shortcut icon" href="../../../images/andres-castillo-think-outside-box.png" />
    <link rel="stylesheet" href="../../../assets/css/main.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <script type='application/ld+json'>
    {
       "@context":"https://schema.org",
       "@type":"BreadcrumbList",
       "itemListElement":[
          {
             "@type":"ListItem",
             "position":1,
             "item":{
                "@id":"https://www.castilloandres.com/",
                "name":"Home"
             }
          },
          {
             "@type":"ListItem",
             "position":2,
             "item":{
                "@id":"https://www.castilloandres.com/blog/seo/google-mobile-friendly-test-font-size.html",
                "name":"Google Mobile Friendly Tool: font size"
             }
          }
       ]
    }
    </script>
    <script type="application/ld+json">
    { "@context": "http://schema.org",
     "@type": "BlogPosting",
     "headline": "How to count characters in a JavaScript string",
     "image": "https://www.castilloandres.com/images/blog/count-chars-js/count-chars-js-small.png",
     "genre": "JavaScript",
     "wordcount": "489",
     "url": "https://www.castilloandres.com/blog/seo/how-to-count-characters-in-a-javascript-string.html.html",
     "publisher":
      {
        "@context": "http://schema.org",
        "@type": "Person",
        "name": "Andres Castillo"
     },
     "datePublished": "2019-02-21",
     "dateCreated": "2019-02-21",
     "dateModified": "2019-02-21",
     "mainEntityOfPage": {
       "@type": "Blog",
       "@id": "https://www.castilloandres.com/"
      },
     "description": "When we want to count characters in a JavaScript string we can use .length property as follows: >'abc'.length 3 >'four'.length 4 >'hello'.length 5 And voilÃ¡ everything seems great no? We can output the number of characters our string has. Nevertheless not 100% true. What is the problem. We are counting code points and not characters. Let's illustrate it in an example: >'ğŸ’©'.length 2 > 'ğ€'.length 2 > 'ğ¯ •'.length 2 >'ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘©'.length 11 We are counting code points. There are some use cases where characters are composed of two ore more code points like: emojis, bold characters, and some foreign character sets. What are code points? To be on the same page let's get a few concepts before we dive into code points: Graphemes can be composed by multiple symbols. For example the grapheme ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© is composed of four (4) symbols which are ğŸ‘© + â¤ + ğŸ’‹ + ğŸ‘©. Symbols are the single unit of information that humans can understand in readable text. Symbols can be composed of one or multiple code points. For example the symbol pile of poop ğŸ’© is composed of two (2) symbols which are \uD83D + \uDCA9. Or the symbol ğ¯ • is composed of two (2) code points \uD87E + \uDC15. As a last example the bold capital letter ğ€ is composed by two code points \uD835 + \uDC00 'ğŸ’©' === \uD83D + \uDCA9 'ğ¯ •' === \uD87E + \uDC15 'ğ€' === \uD835 + \uDC00 Code points are the single unit of information that computers understand. A code point represents a single value in the unicode standard. For example computers understand \uD835 + \uDC00 which is equal to what we humans understand as ğ€. How can we fix this? The first easy and straightforward approach is to use Array.from that will split symbols in to an array and then count the length of that array. > Array.from('ğ€').length 1 > Array.from('ğŸ’©').length 1 > Array.from('ğ¯ •').length 1 This approach will cover most of the readable text use cases (not emojis) and most foreign character sets. For going further down the rabbit hole for counting emoji sequences, diacritics and 0 width characters there are some npm libraries that can help with that. Why is this important Knowing how computers and humans understand a single unit of information and how we are able to go back and forth between these two worlds is important to dive into more complex problems."
    ,
     "author": {
        "@type": "Person",
        "name": "Andres Castillo",
        "additionalName" : "Andres Castillo Ormaechea"
      },
      "editor": {
        "@type": "Person",
        "name": "Andres Castillo",
        "additionalName" : "Andres Castillo Ormaechea"
      }
     }
  </script>
  </head>
  <body>

    <!-- Page Wrapper -->
      <div id="page-wrapper">

        <!-- Menu -->
          <nav id="nav">
              <ul>
                <li><a href="../../../index.html">Blog</a></li>
                <li><a href="../../../projects.html">Projects</a></li>
                <li><a href="../../../about.html">About</a></li>
                <!-- <li><a href="../../contact.html">Contact</a></li> -->
              </ul>
          </nav>
        <!-- Main -->
          <article id="main">
            <header style="background-image:url('../../../images/blog/count-chars-js/count-chars-js-big.png')">
              <h1>How to count characters in a JavaScript string</h1>
              <p>21/02/2019</p>
              <h6>By: Andres Castillo Ormaechea</h6>
            </header>
            <section class="wrapper style5">
              <div class="inner">
                <p>When we want to count characters in a JavaScript string we can use <code>.length</code> property as follows:</p>
                <pre><code>>'abc'.length
3
>'four'.length
4
>'hello'.length
5</code></pre>
<p>And voilÃ¡ everything seems great no? We can output the number of characters our string has. Nevertheless not 100% true.</p>

                <h3>What is the problem.</h3>
                <p>We are counting code points and not characters. Let's illustrate it in an example:</p>
                <pre><code>>'ğŸ’©'.length
2
> 'ğ€'.length
2
> 'ğ¯ •'.length
2
>'ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘©'.length
11</code></pre>
                <p>We are counting code points. There are some use cases where characters are composed of two ore more code points like: emojis, bold characters, and some foreign character sets.</p>
                <h3>What are code points?</h3>
                <p>To be on the same page let's get a few concepts before we dive into code points:</p>
                <p><strong>Graphemes</strong> can be composed by multiple <strong>symbols</strong>. For example the grapheme ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© is composed of four (4) symbols which are ğŸ‘© + â¤ + ğŸ’‹ + ğŸ‘©.</p>
                <p><strong>Symbols</strong> are the single unit of information that humans can understand in readable text. Symbols can be composed of one or multiple code points. For example the symbol pile of poop ğŸ’© is composed of two (2) symbols which are <code>\uD83D</code> + <code>\uDCA9</code>. Or the symbol <strong>ğ¯ •</strong> is composed of two (2) code points <code>\uD87E</code> + <code>\uDC15</code>. As a last example the bold capital letter <strong>ğ€</strong> is composed by two code points <code>\uD835</code> + <code>\uDC00</code></p>
               <ul>
                  <li>'ğŸ’©' === <strong>\uD83D</strong> + <strong>\uDCA9</strong></li>
                  <li>'ğ¯ •' === <strong>\uD87E</strong> + <strong>\uDC15</strong></li>
                  <li>'ğ€' === <strong>\uD835</strong> + <strong>\uDC00</strong></li>
                </ul>
                <p><strong>Code points</strong> are the single unit of information that computers understand. A code point represents a single value in the unicode standard. For example computers understand <code>\uD835</code> + <code>\uDC00</code> which is equal to what we humans understand as <strong>ğ€</strong>.</p>
                <p>Remember <code>'ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘©'.length === 11</code>? Let's make a diagram that deconstructs the ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© grapheme into symbols and code points:</p>
                <pre><code>
ğŸ‘© (Symbol)
  1. \uD83D (code point)
  2. \uDC69 (code point)
--------------------------
emoji zero width joiner (not visually represented to humans)
  3. \u200d (code point)
--------------------------
â¤ (Symbol)
  4. \u2764 (code point)
--------------------------
emoji presentation selector (not visually represented to humans)
  5. \ufe0f (code point)
--------------------------
emoji zero width joiner (not visually represented to humans)
  6. \u200d (code point)
--------------------------
 ğŸ’‹ (Symbol)
  7. \ud83d (code point)
  8. \udc8b (code point)
--------------------------
emoji zero width joiner (not visually represented to humans)
  9. \u200d (code point)
--------------------------
ğŸ‘© (Symbol)
  10. \uD83D (code point)
  11. \uDC69 (code point)
                </code></pre>
                <h3>How can we fix this?</h3>
                <p>The first easy and straightforward approach is to use <code>Array.from</code> that will split symbols in to an array and then count the <code>length</code> of that array.</p>
                <pre><code>> Array.from('ğ€').length
1
> Array.from('ğŸ’©').length
1
> Array.from('ğ¯ •').length
1
</code></pre>
                <p>This approach will cover most of the readable text use cases (not emojis) and most foreign character sets.</p>
                <p>For going further down the rabbit hole for counting emoji sequences, diacritics and 0 width characters there are some npm libraries that can help with that.</p>
                <h3>Why is this important</h3>
                <p>Knowing how computers and humans understand a single unit of information and how we are able to go back and forth between these two worlds is important to dive into more complex problems.</p>
              </div>
            </section>
          </article>
        <!-- Footer -->
          <footer id="footer">
            <ul class="icons">
              <li><a href="https://es.linkedin.com/in/andrescastillo1" class="icon fa-linkedin">.</a></li>
              <li><a href="https://github.com/castilloandres" class="icon fa-github">.</a></li>
              <li><a href="https://instagram.com/andrescastillo.es" class="icon fa-instagram">.</a></li>
              <li><a href="mailto:castilloandres17@gmail.com" class="icon fa-envelope-o">.</a></li>
              <li><a href="https://twitter.com/ndrscastillo" class="icon fa-twitter">.</a></li>
            </ul>
            <ul class="copyright">
              <li>&copy; Andres Castillo Ormaechea</li>
            </ul>
          </footer>

      </div>

    <!-- Scripts -->
      <script src="../../../assets/js/jquery.min.js"></script>
      <script src="../../../assets/js/jquery.scrollex.min.js"></script>
      <script src="../../../assets/js/jquery.scrolly.min.js"></script>
      <script src="../../../assets/js/skel.min.js"></script>
      <script src="../../../assets/js/util.js"></script>
      <!--[if lte IE 8]><script src="../../../assets/js/ie/respond.min.js"></script><![endif]-->
      <script src="../../../assets/js/main.js"></script>

  </body>
</html>
